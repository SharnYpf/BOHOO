{% extends 'base.html' %}

{% block title %}注册{% endblock %}

{% block head_other %}
    <style type="text/css">
    .btn-register{
        width: 572px;
    }
    </style>
{% endblock %}

{% block main %}
    <form method="post" id="id_register_form">{% csrf_token %}
    <div class="container-fluid">
        <div class="span12">
            <div class="control-group">
                <div class="input-prepend"><span class="add-on"><i class="icon-envelope"></i></span>{{ form.email }}</div>
                <div class="input-prepend"><span class="add-on"><i class="icon-user"></i></span>{{ form.username }}</div>
                <div class="input-prepend"><span class="add-on"><i class="icon-lock"></i></span>{{ form.password }}</div>
                <div class="input-prepend"><span class="add-on"><i class="icon-lock"></i></span>{{ form.password1 }}</div>
{#                <div class="input-prepend"><span class="add-on"><i class="icon-phone"></i></span>{{ form.phone_number }}</div>#}
                <label class="checkbox"><input type="checkbox" id="id_terms">我已经阅读并同意<a href="">服务条款</a> </label>
                <button class="btn btn-primary btn-register">注册</button>
            </div>
        </div>
    </div>
    </form>
{% endblock %}

{% block js_other %}
    <script type="text/javascript">
    $(document).ready(function(){
        // 未同意服务条款不给提交
        $('.btn-register').on('click',function(e){
            e.preventDefault();
            if ($('#id_terms').is(':checked')){
                $('#id_register_form').submit();
            }else{
                $.globalMessenger().post({
                    message: "请阅读并同意服务条款!",
                    hideAfter: 4,
                    type: 'error'
                });
                return false;
            }
        })
    })
    </script>
{% endblock %}